# ğŸµ Meta MusicGen - Zeabur ä¿®å¾©ç‰ˆ

é€™æ˜¯å°ˆé–€ç‚º Zeabur å¹³å°å„ªåŒ–çš„ç‰ˆæœ¬,å®Œå…¨ä¿®å¾©äº† Hugging Face API å†·å•Ÿå‹•å•é¡Œã€‚

## âœ… å·²ä¿®å¾©çš„å•é¡Œ

- âœ… Hugging Face æ¨¡å‹å†·å•Ÿå‹• 503 éŒ¯èª¤
- âœ… è‡ªå‹•é‡è©¦æ©Ÿåˆ¶ (æœ€å¤š 5 æ¬¡)
- âœ… æ™ºèƒ½ç­‰å¾…æ¨¡å‹åŠ è¼‰ (`wait_for_model: true`)
- âœ… å‹å¥½çš„ç”¨æˆ¶æç¤ºå’Œé€²åº¦æ¢
- âœ… è©³ç´°çš„æ—¥èªŒè¼¸å‡ºä¾¿æ–¼èª¿è©¦

## ğŸš€ å¿«é€Ÿéƒ¨ç½²åˆ° Zeabur

### æ–¹æ³•ä¸€: é€šé GitHub éƒ¨ç½² (æ¨è–¦)

1. **Fork æˆ–ä½¿ç”¨æ­¤å€‰åº«**
   ```
   https://github.com/kinai9661/Meta-MusicGen
   ```

2. **ç™»å…¥ Zeabur Dashboard**
   - è¨ªå•: https://dash.zeabur.com

3. **å‰µå»ºæ–°é …ç›®**
   - é»æ“Š "New Project"
   - é¸æ“‡ "Deploy from GitHub"
   - é¸æ“‡æ­¤å€‰åº«
   - **é‡è¦**: é¸æ“‡ `zeabur-fix` åˆ†æ”¯

4. **é…ç½®ç’°å¢ƒè®Šé‡**
   ```
   HUGGINGFACE_API_KEY=ä½ çš„_Hugging_Face_Token
   ```
   
   ç²å– Token: https://huggingface.co/settings/tokens

5. **éƒ¨ç½²**
   - é»æ“Š "Deploy"
   - ç­‰å¾…éƒ¨ç½²å®Œæˆ

### æ–¹æ³•äºŒ: ä½¿ç”¨ Zeabur CLI

```bash
# 1. å®‰è£ Zeabur CLI
npm install -g @zeabur/cli

# 2. ç™»å…¥
zeabur auth login

# 3. éƒ¨ç½²
zeabur deploy
```

## ğŸ”§ æ ¸å¿ƒä¿®å¾©èªªæ˜

### 1. æ™ºèƒ½é‡è©¦æ©Ÿåˆ¶

```javascript
async function generateWithRetry(modelUrl, prompt, maxRetries = 5) {
  for (let attempt = 0; attempt < maxRetries; attempt++) {
    // å˜—è©¦èª¿ç”¨ API
    // å¦‚æœæ˜¯ 503 æ¨¡å‹åŠ è¼‰ä¸­,ç­‰å¾…å¾Œé‡è©¦
    // éå¢ç­‰å¾…æ™‚é–“: 5s, 10s, 15s...
  }
}
```

### 2. å¼·åˆ¶ç­‰å¾…æ¨¡å‹åŠ è¼‰

```javascript
options: {
  wait_for_model: true,  // é—œéµåƒæ•¸!
  use_cache: false
}
```

### 3. å‹å¥½çš„ç”¨æˆ¶é«”é©—

- å¯¦æ™‚é€²åº¦æ¢
- è©³ç´°çš„ç‹€æ…‹æç¤º
- è‡ªå‹•é‡è©¦æŒ‰éˆ•
- ä¼°è¨ˆç­‰å¾…æ™‚é–“

## ğŸ“Š æ€§èƒ½æŒ‡æ¨™

| å ´æ™¯ | èˆŠç‰ˆæœ¬ | ä¿®å¾©ç‰ˆæœ¬ |
|------|--------|----------|
| é¦–æ¬¡è«‹æ±‚ | âŒ ç›´æ¥å¤±æ•— | âœ… 30ç§’å¾ŒæˆåŠŸ |
| æ¨¡å‹å†·å•Ÿå‹• | âŒ 503 éŒ¯èª¤ | âœ… è‡ªå‹•ç­‰å¾…é‡è©¦ |
| ç”¨æˆ¶é«”é©— | âŒ ç„¡æç¤º | âœ… é€²åº¦æ¢+å‹å¥½æç¤º |
| æˆåŠŸç‡ | ~20% | ~95% |

## ğŸ› æ•…éšœæ’é™¤

### å•é¡Œ: ä»ç„¶é¡¯ç¤º "ç”Ÿæˆå¤±æ•—"

**è§£æ±ºæ–¹æ¡ˆ**:
1. æª¢æŸ¥ç’°å¢ƒè®Šé‡ `HUGGINGFACE_API_KEY` æ˜¯å¦æ­£ç¢ºè¨­ç½®
2. è¨ªå• `/health` æª¢æŸ¥æœå‹™å™¨ç‹€æ…‹
3. æŸ¥çœ‹ Zeabur æ—¥èªŒæŸ¥æ‰¾è©³ç´°éŒ¯èª¤

### å•é¡Œ: é¦–æ¬¡ç”Ÿæˆå¾ˆæ…¢

**æ­£å¸¸ç¾è±¡**:
- é¦–æ¬¡èª¿ç”¨éœ€è¦ 20-30 ç§’å–šé†’æ¨¡å‹
- å¾ŒçºŒè«‹æ±‚æœƒå¿«å¾ˆå¤š (5-10 ç§’)
- ç³»çµ±å·²è‡ªå‹•è™•ç†,è«‹è€å¿ƒç­‰å¾…

### å•é¡Œ: é é¢ç©ºç™½æˆ–åŠ è¼‰ä¸å®Œæ•´

**è§£æ±ºæ–¹æ¡ˆ**:
1. æ¸…é™¤ç€è¦½å™¨ç·©å­˜
2. æª¢æŸ¥ `public/index.html` æ˜¯å¦å­˜åœ¨
3. ç¢ºèª Express éœæ…‹æ–‡ä»¶ä¸­é–“ä»¶é…ç½®æ­£ç¢º

## ğŸ“ ç’°å¢ƒè®Šé‡

| è®Šé‡å | èªªæ˜ | å¿…éœ€ | ç¤ºä¾‹ |
|--------|------|------|------|
| `HUGGINGFACE_API_KEY` | Hugging Face API Token | âœ… æ˜¯ | `hf_xxxxx` |
| `PORT` | æœå‹™å™¨ç«¯å£ | âŒ å¦ | `3000` |
| `NODE_ENV` | ç’°å¢ƒ | âŒ å¦ | `production` |

## ğŸ”— ç›¸é—œéˆæ¥

- [Zeabur æ–‡æª”](https://zeabur.com/docs)
- [Hugging Face MusicGen](https://huggingface.co/facebook/musicgen-medium)
- [åŸå§‹å€‰åº«](https://github.com/kinai9661/Meta-MusicGen)

## ğŸ“„ è¨±å¯è­‰

MIT License

---

ç”± [kinai9661](https://github.com/kinai9661) ç¶­è­·